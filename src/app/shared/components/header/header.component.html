<div id="anchor-top"></div>

<header id="main-header" class="main-header">

  <!-- *** HEADER AREA *** -->

  <nav class="navbar fixed-top navbar-expand-md navbar-light">

    <!-- iOS back button -->
    <button type="button" class="btn btn-back" *ngIf="isIos()" (click)="goBack()">
      <
    </button>

    <!-- Logo -->
    <h2 class="navbar-brand" [class.centred]="isIos()">
      <a [routerLink]="'home'" (click)="setTitle('Home')">
        <img class="header-logo" src="assets/img/svg/perso/monogram.svg" alt="Kevin Liozon">
        <span class="header-label" [hidden]="isIos()">Kevin Liozon</span>
      </a>
    </h2>

    <!-- Languages sm -->
    <div class="dropdown nav-lang nav-item d-md-none" ngbDropdown>
      <a class="nav-link dropdown-toggle" role="button" id="navbarDropdownMenuLinkSm" ngbDropdownToggle>
          <img [src]="currentFlag">
      </a>

      <!-- Dropdown lang-->
      <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLinkSm" ngbDropdownMenu>
        <a *ngFor="let lang of supportedLanguages"
           role="button"
           (click)="selectLang(lang.value, lang.flag)"
           [class.selected]="isCurrentLang(lang.value)"
           class="nav-link dropdown-item nav-lang-label">
            {{ lang.display }}
        </a>
      </div>
    </div>

    <button class="navbar-toggler btn-burger" type="button" [class.collapsed]="navbarCollapsed" (click)="navbarCollapsed = !navbarCollapsed">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar icn-burger-top"></span>
      <span class="icon-bar icn-burger-mid"></span>
      <span class="icon-bar icn-burger-bot"></span>
    </button>

    <div class="nav-menu collapse navbar-collapse" [class.show]="!navbarCollapsed">
      <ul class="nav navbar-right navbar-nav">

        <!-- Nav -->
        <li class="nav-item nav-route" *ngFor="let tab of menu" routerLinkActive="active">
          <a class="nav-link" [routerLink]="[tab.key]" (click)="setTitle(tab.value)">{{ tab.value | translate }}</a>
        </li>

        <!-- Languages -->
        <li class="nav-item nav-lang dropdown" ngbDropdown>
          <a class="nav-link dropdown-toggle" role="button" id="navbarDropdownMenuLink" ngbDropdownToggle>
              <img [src]="currentFlag">
          </a>

          <!-- Dropdown lang-->
          <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink" ngbDropdownMenu>
            <a *ngFor="let lang of supportedLanguages"
               role="button"
               (click)="selectLang(lang.value, lang.flag)"
               [class.selected]="isCurrentLang(lang.value)"
               class="nav-link dropdown-item nav-lang-label">
                {{ lang.display }}
            </a>
          </div>
        </li>
      </ul>
    </div>
  </nav>

  <!-- *** TITLE + TOOLS AREA *** -->

  <section class="page-header" [class.title-has-changed]="pageHasChanged">
    <h1>{{ headerTitleService.getTitle() | translate }}</h1>

    <div class="triangle"></div>

    <button class="btn btn-font" role="button" (click)="changeFont()" [class.selected]="fontHasChanged">
      a / <span class="btn-label-big">a</span>
    </button>

  </section>

</header>
