<div id="anchor-top"></div>

<header id="main-header" class="main-header">

  <!-- *** HEADER AREA *** -->

  <nav class="navbar fixed-top navbar-expand-md navbar-light">

    <!-- iOS back button -->
    <button type="button" class="btn btn-back" *ngIf="isIos()" (click)="goBack()">
      <
    </button>

    <!-- Logo -->
    <h2 class="navbar-brand" [class.centred]="isIos()">
      <a [routerLink]="'home'" (click)="setTitle('Home')">
        <img class="header-logo" src="assets/img/svg/perso/monogram.svg" alt="Kevin Liozon">
        <span class="header-label" [hidden]="isIos()">Kevin Liozon</span>
      </a>
    </h2>

    <!-- Languages sm -->
    <div class="dropdown nav-lang navbar-toggle d-md-none">
      <!--<a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
        <img src="{{ currentFlag }}" />
      </a>
      <ul class="dropdown-menu">
        &lt;!&ndash; Dropdown lang &ndash;&gt;
        <li *ngFor="let lang of supportedLanguages"
            (click)="selectLang(lang.value, lang.flag)" [class.selected]="isCurrentLang(lang.value)">
          <a class="nav-lang-label">{{ lang.display }}</a>
        </li>
      </ul>-->


      <a class="nav-link dropdown-toggle"
         role="button"
         id="navbarDropdownMenuLinkSm"
         data-toggle="dropdown"
         aria-haspopup="true"
         aria-expanded="false">
          <img [src]="currentFlag">
      </a>

      <!-- Dropdown lang-->
      <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLinkSm">
        <a *ngFor="let lang of supportedLanguages"
           role="button"
           (click)="selectLang(lang.value, lang.flag)"
           [class.selected]="isCurrentLang(lang.value)"
           class="nav-link dropdown-item nav-lang-label">
            {{ lang.display }}
        </a>
      </div>
    </div>

    <button class="navbar-toggler btn-burger" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar icn-burger-top"></span>
      <span class="icon-bar icn-burger-mid"></span>
      <span class="icon-bar icn-burger-bot"></span>
    </button>

    <div class="nav-menu collapse navbar-collapse" id="navbarNavDropdown">
      <ul class="nav navbar-right navbar-nav">

        <!-- Nav -->
        <li class="nav-item nav-route" *ngFor="let tab of menu" routerLinkActive="active">
          <a class="nav-link" [routerLink]="[tab.key]" (click)="setTitle(tab.value)">{{ tab.value | translate }}</a>
        </li>

        <!-- Languages -->
        <li class="nav-item nav-lang dropdown">
          <a class="nav-link dropdown-toggle"
             role="button"
             id="navbarDropdownMenuLink"
             data-toggle="dropdown"
             aria-haspopup="true"
             aria-expanded="false">
              <img [src]="currentFlag">
          </a>

          <!-- Dropdown lang-->
          <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
            <a *ngFor="let lang of supportedLanguages"
               role="button"
               (click)="selectLang(lang.value, lang.flag)"
               [class.selected]="isCurrentLang(lang.value)"
               class="nav-link dropdown-item nav-lang-label">
                {{ lang.display }}
            </a>
          </div>
        </li>
      </ul>
    </div>
  </nav>

  <!-- *** TITLE + TOOLS AREA *** -->

  <section class="page-header" [class.title-has-changed]="pageHasChanged">
    <h1>{{ headerTitleService.getTitle() | translate }}</h1>

    <div class="triangle"></div>

    <button class="btn btn-font" role="button" (click)="changeFont()" [class.selected]="fontHasChanged">
      a / <span class="btn-label-big">a</span>
    </button>

  </section>

</header>
